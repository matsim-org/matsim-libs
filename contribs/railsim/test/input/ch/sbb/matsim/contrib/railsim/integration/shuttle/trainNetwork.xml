<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE network SYSTEM "http://www.matsim.org/files/dtd/network_v2.dtd">
<network name="Shuttle Network">

	<attributes>
		<attribute name="coordinateReferenceSystem" class="java.lang.String">Atlantis</attribute>
	</attributes>
	<!-- ====================================================================== -->

	<!--
	Shuttle Network with Intermediate Station
	Main Stations: A - M - B (linear shuttle route)
	Intermediate Node: M (midpoint between A and B)
	Shuttle Route: A -> M -> B -> M -> A (back and forth)
	Stop Links: Dedicated links for train stops (150m length each) - bidirectional
	Extended route for 10-minute one-way travel time
	-->

	<nodes>
		<!-- Main stations forming a linear route -->
		<node id="node_A" x="0.0" y="0.0" />
		<node id="node_A_stop" x="150.0" y="0.0" />
		<node id="node_M" x="5000.0" y="0.0" />
		<node id="node_M_stop" x="5150.0" y="0.0" />
		<node id="node_B" x="10000.0" y="0.0" />
		<node id="node_B_stop" x="10150.0" y="0.0" />
	</nodes>

	<!-- ====================================================================== -->

	<links capperiod="01:00:00" effectivecellsize="7.5" effectivelanewidth="3.75">
		<!-- Stop links for train boarding/alighting - bidirectional -->
		<link id="link_A_to_stop" from="node_A" to="node_A_stop" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_A_from_stop" from="node_A_stop" to="node_A" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_M_to_stop" from="node_M" to="node_M_stop" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_M_from_stop" from="node_M_stop" to="node_M" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_B_to_stop" from="node_B" to="node_B_stop" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_B_from_stop" from="node_B_stop" to="node_B" length="150.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		
		<!-- Main route links -->
		<link id="link_AM" from="node_A_stop" to="node_M" length="5000.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_MB" from="node_M_stop" to="node_B" length="5000.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_BM" from="node_B" to="node_M_stop" length="5000.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
		<link id="link_MA" from="node_M" to="node_A_stop" length="5000.0" freespeed="20.0" capacity="1000.0" permlanes="1.0" oneway="1" modes="rail">
			<attributes>
				<attribute name="railsimTrainCapacity" class="java.lang.Integer">2</attribute>
			</attributes>
		</link>
	</links>

	<!-- ====================================================================== -->

</network> 